<%- include('../partials/head.ejs') %>
</head>
<body>
    <%- include('../partials/navigation.ejs') %>
  <div class="container flex flex-col">
    <h3 class="m-auto my-4 text-4xl font-bold text-blue-500">Edit Product</h3>
    <% if(success_msg != ''){ %>
      <div id="successBanner" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-2 w-1/3 text-center mx-auto rounded relative" role="alert">
        <span class="block sm:inline"><%= success_msg %></span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="closeAlert('successBanner')">
          <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
        </span>
      </div>
      <% } %> <% if(error != ''){ %>
      <div id="warningBanner" class="bg-orange-100 border border-orange-400 text-orange-700 px-4 py-3 my-2 w-1/3 text-center mx-auto rounded relative" role="alert">
        <span class="block sm:inline"><%= error %></span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="closeAlert('warningBanner')">
          <svg class="fill-current h-6 w-6 text-orange-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
        </span>
      </div>
      <% } %>
      <% if( typeof errors != 'undefined') {%>
        <% errors.forEach(error => { %>
          <div id="warningBanner" class="bg-orange-100 border border-orange-400 text-orange-700 px-4 py-3 my-2 w-1/3 text-center mx-auto rounded relative" role="alert">
            <span class="block sm:inline"><%= error.msg %></span>
            <span class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="closeAlert('warningBanner')">
              <svg class="fill-current h-6 w-6 text-orange-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
            </span>
          </div>
        <% }); } %>
    <form class="w-full max-w-sm m-auto mb-10 border border-blue-700" action="/admin/update-product" method="POST">
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">
            Name
          </label>
        </div>
        <div class="md:w-2/3">
          <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="name" type="text" placeholder="Product Name" name="name" value="<%= product.name %>">
        </div>
      </div>
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4" for="price">
            Price
          </label>
        </div>
        <div class="md:w-2/3">
          <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="price" type="number" placeholder="Enter Price" name="price" value="<%= product.price %>">
        </div>
      </div>
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4" for="description">
            Description
          </label>
        </div>
        <div class="md:w-2/3">
          <textarea class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="description" placeholder="Enter product description" name="description"><%= product.description %></textarea>
        </div>
      </div>
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4" for="image-url">
            Image URL
          </label>
        </div>
        <div class="md:w-2/3">
          <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" id="image-url" placeholder="Enter image url" name="imageUrl" value="<%= product.imageUrl %>">
        </div>
      </div>
      <div class="md:flex md:items-center">
        <div class="md:w-1/3"></div>
        <div class="md:w-2/3">
          <input type="hidden" name="productId" value="<%= product.id %>">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>">
          <button class="shadow bg-blue-500 hover:bg-blue-700 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded" type="submit">
            Update Product
          </button>
        </div>
      </div>
    </form>
  </div>
<script>
  function closeAlert(id){
    let closeButton = document.getElementById(id);
    closeButton.style.display = "none";
  }
</script>
<%- include('../partials/footer.ejs') %>
<%- include('../partials/end.ejs') %>